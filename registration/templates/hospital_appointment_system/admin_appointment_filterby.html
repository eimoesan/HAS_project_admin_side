<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Appointment Filter</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container"  style="width:70%;">
    <form method="GET" action="{% url 'retreive_admin_appointment_filterby' %}">
        {% csrf_token %}
        <div class="input-group mb-3 row" >
            <div class="input-group mb-3" >
                <input type="search" id="doctor_name" name="doctor_name" class="form-control" placeholder="Search by doctor name..." aria-label="Search by doctor name..." >
                <div class="input-group-append">
                    <button class="btn btn-outline-primary" type="submit" >Search</button>
                </div>
            </div>
            <div class="input-group mb-3" >
                <input type="search" id="patient_name" name="patient_name" class="form-control" placeholder="Search by Patient name..." aria-label="Search by patient name..." >
                <div class="input-group-append">
                    <button class="btn btn-outline-primary" type="submit" >Search</button>
                </div>
            </div>
            <div class="row" style="flex-direction:column;">
                <div class="col mx-2 my-2">
                    <label for="date">From: </label>
                    <input type="date" id="from" name="from">
                </div>
                <div class="col mx-2 my-2">
                    <label for="date">To: </label>
                    <input type="date" id="to" name="to">
                </div>
                <div class="col input-group-append">
                    <button class="btn btn-outline-primary" type="submit" >Search</button>
                </div>
            </div>

        </div>
    </form>
</div>
<div class="container">
    <p>{{message}}</p>
    <h4>Schedule</h4>
    <table class = "table">
    <tr>
        <th>Doctor Name</th>
        <th>Patient Name</th>
        <th>Appointment Date</th>
        <th>Appointment Start Time</th>
        <th>Appointment End Time</th>
        <th>Token</th>
        <th>Status</th>
    </tr>
    {% for appointment in appointment_table %}
    <tr>
        <td>{{ appointment.doctor_id.doctor_name }}</td>
        <td>{{ appointment.patient_id.patient_name }}</td>
        <td>{{ appointment.appoint_date }}</td>
        <td>{{ appointment.appoint_start_time }}</td>
        <td>{{ appointment.appoint_end_time }}</td>
        <td>{{ appointment.token }}</td>
        <td>{{ appointment.history_id.status }}</td>
    </tr>
    {% endfor %}
    </table> <br/>
    </div>
</body>
</html>